# Benchmark History

## Python: mutagen_rs vs mutagen

Speedup over Python mutagen (higher = better). Target: **100x**

| Run | MP3 | FLAC | OGG | MP4 | Auto | B.MP3 | B.FLAC | B.OGG | B.MP4 | B.Auto |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| `2026-02-05 (baseline)` | 18.5x | 7.5x | 12.1x | 15.5x | 18.9x | **108.9x** | 29.1x | 20.5x | 64.5x | **103.5x** |
| `2026-02-05_10-06-04` | 18.5x (=) | 7.4x (-0.1) | 12.2x (+0.1) | 15.4x (-0.1) | 19.1x (+0.2) | **101.4x (-7.5)** | 23.2x (-5.9) | 17.9x (-2.6) | 61.2x (-3.3) | **100.2x (-3.3)** |
| `2026-02-05_10-21-47` | 17.8x (-0.7) | 7.5x (+0.1) | 12.0x (-0.2) | 15.8x (+0.4) | 18.8x (-0.3) | **110.5x (+9.1)** | 25.0x (+1.8) | 20.5x (+2.6) | 63.6x (+2.4) | **106.9x (+6.7)** |
| `2026-02-05_14-36-28` | **106.5x (+88.7)** | 49.6x (+42.1) | **139.2x (+127.2)** | **111.9x (+96.1)** | **126.1x (+107.3)** | **178.3x (+67.8)** | **128.9x (+103.9)** | **195.0x (+174.5)** | **130.4x (+66.8)** | **267.7x (+160.8)** |
| `2026-02-05_15-17-15` | **104.2x (-2.3)** | 60.5x (+10.9) | **151.0x (+11.8)** | **112.9x (+1.0)** | **127.3x (+1.2)** | **186.9x (+8.6)** | **129.8x (+0.9)** | **183.8x (-11.2)** | **121.8x (-8.6)** | **274.7x (+7.0)** |

## Rust Criterion: mutagen_rs vs lofty-rs

Ratio = lofty_time / mutagen_rs_time (higher = mutagen_rs is faster)

| Run | MP3s | MP3L | FLACs | FLACL | OGGs | OGGL | MP4s | MP4L |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| `2026-02-05 (baseline)` | 2.5x | 2.83x | 19.99x | 134.89x | 7.88x | 129.8x | 22.42x | 3.54x |
| `2026-02-05_10-06-04` | 2.63x (+0.1) | 2.76x (-0.1) | 19.99x (=) | 130.73x (-4.2) | 7.88x (=) | 129.8x (=) | 21.99x (-0.4) | 3.47x (-0.1) |
| `2026-02-05_10-21-47` | 39.6x (+37.0) | 132.91x (+130.2) | 20.39x (+0.4) | 129.34x (-1.4) | 43.02x (+35.1) | 12242.27x (+12112.5) | 40.82x (+18.8) | 259.72x (+256.2) |
| `2026-02-05_14-36-28` | 42.79x (+3.2) | 133.6x (+0.7) | 16.86x (-3.5) | 123.77x (-5.6) | 43.64x (+0.6) | 12598.3x (+356.0) | 44.83x (+4.0) | 260.11x (+0.4) |
| `2026-02-05_15-17-15` | 41.54x (-1.2) | 132.06x (-1.5) | 19.83x (+3.0) | 127.7x (+3.9) | 43.36x (-0.3) | 12462.35x (-135.9) | 42.81x (-2.0) | 258.33x (-1.8) |

### Latest Criterion times

| Benchmark | mutagen_rs | lofty | Ratio |
| --- | --- | --- | --- |
| mp3_small | 106ns | 4.40us | **41.54x** |
| mp3_large | 107ns | 14.11us | **132.06x** |
| flac_small | 151ns | 2.99us | **19.83x** |
| flac_large | 117ns | 14.95us | **127.7x** |
| ogg_small | 15ns | 637ns | **43.36x** |
| ogg_large | 15ns | 182.99us | **12462.35x** |
| mp4_small | 56ns | 2.40us | **42.81x** |
| mp4_large | 65ns | 16.78us | **258.33x** |

## Summary

- **Date**: 2026-02-05_15-17-15
- **Python benchmarks >= 100x**: 9/10
- **Criterion faster than lofty**: 8/8

### Changes from previous run

- MP3: 106.5x -> 104.2x (-2.3)
- FLAC: 49.6x -> 60.5x (+10.9)
- OGG: 139.2x -> 151.0x (+11.8)
- MP4: 111.9x -> 112.9x (+1.0)
- Auto: 126.1x -> 127.3x (+1.2)
- B.MP3: 178.3x -> 186.9x (+8.6)
- B.FLAC: 128.9x -> 129.8x (+0.9)
- B.OGG: 195.0x -> 183.8x (-11.2)
- B.MP4: 130.4x -> 121.8x (-8.6)
- B.Auto: 267.7x -> 274.7x (+7.0)
- mp3_small (vs lofty): 42.79x -> 41.54x (-1.25)
- mp3_large (vs lofty): 133.6x -> 132.06x (-1.54)
- flac_small (vs lofty): 16.86x -> 19.83x (+2.97)
- flac_large (vs lofty): 123.77x -> 127.7x (+3.93)
- ogg_small (vs lofty): 43.64x -> 43.36x (-0.28)
- ogg_large (vs lofty): 12598.3x -> 12462.35x (-135.95)
- mp4_small (vs lofty): 44.83x -> 42.81x (-2.02)
- mp4_large (vs lofty): 260.11x -> 258.33x (-1.78)
